(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(t,e,i){t.exports=i(21)},20:function(t,e,i){},21:function(t,e,i){"use strict";i.r(e);var n,o,s,a,r=i(0),c=i.n(r),d=i(8),l=i.n(d),h=(i(20),i(4)),y=i(5);const p=y.a.div(n||(n=Object(h.a)(["\n\twidth: 100vw;\n\theight: 100vh;\n\tbackground-color: black;\n"]))),w=y.a.button(o||(o=Object(h.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n\theight: 30px;\n"]))),u=y.a.button(s||(s=Object(h.a)(["\n\tposition: absolute;\n\tright: 0;\n\ttop: 60px;\n\theight: 30px;\n"]))),f=y.a.div(a||(a=Object(h.a)(["\n\tposition: absolute;\n\tbackground-color: #fff;\n\tborder-radius: 50%;\n"])));var b=i(2);class g{constructor(t,e,i,n){n.collisionFilter={category:1,mask:1},this.x=t,this.y=e,this.size=i,this.active=!1,this.accel={x:0,y:0},this.body=n}updatePosition(){this.x=this.body.position.x,this.y=this.body.position.y}}class v{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0,y:1};this.engine=b.Engine.create(),this.engine.gravity=t,this.render=b.Render.create({element:document.body,engine:this.engine});this.world=this.engine.world,console.log("World",this.world),b.Render.run(this.render)}addSnowflake(t){console.log("add!",t.body.position),b.Composite.add(this.world,t.body)}update(){b.Engine.update(this.engine)}setGravity(t){this.gravity=t}updateSnowflakePosition(t){const e=t.body.position;t.x=e.x,t.y=e.y}}const k=.001,m=.01;var x=new class{constructor(){this.snowflakes=[],this.max_count=500,this.initial_count=200,this.wind=0,this.gravity=.1,this.physics=new v({x:0,y:this.gravity}),this.createInitialSnowflakes(),b.Events.on(this.physics.engine,"collisionStart",t=>{t.pairs.forEach(t=>{if("snowflake"===t.bodyA.label&&"snowflake"===t.bodyB.label){const e=this.getSnowflakeByBody(t.bodyA),i=this.getSnowflakeByBody(t.bodyB);if(e.active&&i.active){const t=-(1*Math.random()-.5)*m,n=-this.gravity*k;b.Body.applyForce(e.body,e.body.position,{x:t,y:n}),b.Body.applyForce(i.body,i.body.position,{x:-t,y:-n})}}})})}removeCollisionListener(){b.Events.off(this.physics.engine,"collisionStart")}getSnowflakeByBody(t){return this.snowflakes.find(e=>e.body===t)}setWind(t){t||(t=(this.wind+3)%5-2),this.wind=t}setGravity(t){t||(t=(this.gravity+1)%5+1),this.gravity=t}createSnowflake(){const t=Math.random()*window.innerWidth*2-.5*window.innerWidth,e=-Math.random()*window.innerHeight/8,i=10*Math.random()+5,n=this.snowflakes.find(t=>!t.active);if(n)n.x=t,n.y=e,n.size=i,n.active=!0,n.accel={x:0,y:0};else{const n=b.Body.create({position:{x:t,y:e},circle:{radius:i},friction:.001,restitution:.5}),o=new g(t,e,i,n);this.physics.addSnowflake(o),this.snowflakes.push(o)}}createInitialSnowflakes(){let t=this.max_count,e=100;const i=()=>{t<=0?clearInterval(n):(t--,e=25+50*Math.random(),this.createSnowflake())},n=setInterval(()=>{i()},e)}updateSnowflakes(){this.snowflakes=this.snowflakes.map((t,e)=>{if(!t.active)return t;const i={...t};if(i.updatePosition=t.updatePosition,!0===i.active){const t=(1*Math.random()-.5)*m,e=this.gravity*k;b.Body.applyForce(i.body,i.body.position,{x:t,y:e}),this.physics.updateSnowflakePosition(i),i.updatePosition(),i.y>.9*window.innerHeight&&(i.active="stay")}return i}),this.physics.update()}};var S=()=>{const[,t]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{window.addEventListener("resize",()=>{});const e=()=>{x.updateSnowflakes(),t(t=>!t),setTimeout(e,1e3/60)};e()},[]),c.a.createElement(p,null,x.snowflakes.map((t,e)=>c.a.createElement(f,{key:e,style:{top:t.y,left:t.x,width:t.size+"px",height:t.size+"px"}})),c.a.createElement(w,{onClick:()=>x.setWind()},"\ubc14\ub78c \uc138\uae30"),c.a.createElement(u,{onClick:()=>x.setGravity()},"\uc911\ub825 \uc138\uae30"))};l.a.createRoot(document.getElementById("root")).render(c.a.createElement(S,null))}},[[12,1,2]]]);
//# sourceMappingURL=main.556aa4b1.chunk.js.map